!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.MG=i():t.MG=i()}(self,(()=>(()=>{var t={775:t=>{function i(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var e=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t);var e=i.img,s=void 0===e?new Image:e,o=i.src,n=void 0===o?"":o,r=i.sW,h=void 0===r?0:r,a=i.sH,l=void 0===a?0:a,c=i.pos,p=void 0===c?new SAT.V:c,u=i.dW,d=void 0===u?0:u,f=i.dH,v=void 0===f?0:f;this.sW=h,this.sH=l,this.pos=p,this.dW=d,this.dH=v,this.img=s,this.img.src=s.src||n}var e,s;return e=t,s=[{key:"pinTo",value:function(t,i){MG.Utils.easePos(this.pos,t,i)}},{key:"u2p",value:function(t){this.pos=new SAT.V(MG.Utils.u2p(this.pos.x,t),MG.Utils.u2p(this.pos.y,t)),this.dW=MG.Utils.u2p(this.dW,t),this.dH=MG.Utils.u2p(this.dH,t)}},{key:"p2u",value:function(t){this.pos=new SAT.V(MG.Utils.p2u(this.pos.x,t),MG.Utils.p2u(this.pos.y,t)),this.dW=MG.Utils.p2u(this.dW,t),this.dH=MG.Utils.p2u(this.dH,t)}},{key:"render",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.img.complete&&0!==this.img.naturalHeight&&t.ctx.drawImage(this.img,0,0,this.sW,this.sH,this.pos.x-this.dW/2,this.pos.y-this.dH/2,this.dW,this.dH);var e={hasBorder:i.hasBorder||!1,borderWidth:i.borderWidth||2,borderColor:i.borderColor||"rgba(173, 216, 230, 0.78)",r:i.r||6};if(e.hasBorder){var s=new Path2D(MG.Utils.circleToPath(this.pos,e.r));t.ctx.lineWidth=e.borderWidth,t.ctx.strokeStyle=e.borderColor,t.ctx.stroke(s)}}}],s&&i(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=e},422:t=>{function i(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var e=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos=i}var e,s;return e=t,s=[{key:"open",value:function(t){t.ctx.translate(t.w/2-this.pos.x,t.h/2-this.pos.y)}},{key:"close",value:function(t){t.ctx.setTransform(1,0,0,1,0,0)}},{key:"pinTo",value:function(t,i){MG.Utils.easePos(this.pos,t,i)}},{key:"u2p",value:function(t){this.pos=new SAT.V(MG.Utils.u2p(this.pos.x,t),MG.Utils.u2p(this.pos.y,t))}},{key:"p2u",value:function(t){this.pos=new SAT.V(MG.Utils.p2u(this.pos.x,t),MG.Utils.p2u(this.pos.y,t))}},{key:"render",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e={hasBorder:i.hasBorder||!1,borderWidth:i.borderWidth||2,borderColor:i.borderColor||"rgba(255, 204, 92, 0.78)",r:i.r||10};if(e.hasBorder){var s=new Path2D(MG.Utils.circleToPath(this.pos,e.r));t.ctx.lineWidth=e.borderWidth,t.ctx.strokeStyle=e.borderColor,t.ctx.stroke(s)}}}],s&&i(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=e},211:t=>{function i(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function e(t,i){if(i.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}var s=new WeakMap,o=new WeakSet,n=function(){function t(i,n,a,l){var c,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),e(this,c=o),c.add(this),function(t,i,s){e(t,i),i.set(t,s)}(this,s,{get:r,set:void 0}),this.origin=i,this.collision=n,this.particle=a,this.sprite=l,this.vars=p,function(t,i,e){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return e}(this,o,h).call(this)}var n,a;return n=t,a=[{key:"type",get:function(){return void 0!==this.collision.r?"circle":void 0!==this.collision.calcPoints?"polygon":void 0!==this.collision.w?"box":void 0}},{key:"u2p",value:function(t){if(this.collision.pos=new SAT.V(MG.Utils.u2p(this.collision.pos.x,t),MG.Utils.u2p(this.collision.pos.y,t)),this.sprite.dxS=MG.Utils.u2p(this.sprite.dxS,t),this.sprite.dyS=MG.Utils.u2p(this.sprite.dyS,t),this.sprite.dW=MG.Utils.u2p(this.sprite.dW,t),this.sprite.dH=MG.Utils.u2p(this.sprite.dH,t),"circle"===this.type&&(this.collision.r=MG.Utils.u2p(this.collision.r,t)),"polygon"===this.type){var i=[];this.collision.setOffset(new SAT.V(MG.Utils.u2p(this.collision.offset.x,t),MG.Utils.u2p(this.collision.offset.y,t)));for(var e=0;e<this.collision.points.length;e++)i.push(new SAT.V(MG.Utils.u2p(this.collision.points[e].x,t),MG.Utils.u2p(this.collision.points[e].y,t)));this.collision.setPoints(i)}"box"===this.type&&(this.collision.w=MG.Utils.u2p(this.collision.w,t),this.collision.h=MG.Utils.u2p(this.collision.h,t))}},{key:"p2u",value:function(t){if(this.collision.pos=new SAT.V(MG.Utils.p2u(this.collision.pos.x,t),MG.Utils.p2u(this.collision.pos.y,t)),this.sprite.dxS=MG.Utils.p2u(this.sprite.dxS,t),this.sprite.dyS=MG.Utils.p2u(this.sprite.dyS,t),this.sprite.dW=MG.Utils.p2u(this.sprite.dW,t),this.sprite.dH=MG.Utils.p2u(this.sprite.dH,t),"circle"===this.type&&(this.collision.r=MG.Utils.p2u(this.collision.r,t)),"polygon"===this.type){var i=[];this.collision.setOffset(new SAT.V(MG.Utils.p2u(this.collision.offset.x,t),MG.Utils.p2u(this.collision.offset.y,t)));for(var e=0;e<this.collision.points.length;e++)i.push(new SAT.V(MG.Utils.p2u(this.collision.points[e].x,t),MG.Utils.p2u(this.collision.points[e].y,t)));this.collision.setPoints(i)}"box"===this.type&&(this.collision.w=MG.Utils.p2u(this.collision.w,t),this.collision.h=MG.Utils.p2u(this.collision.h,t))}},{key:"syncPos",value:function(t){this.collision.pos=this.particle.update(this.collision.pos,t)}},{key:"render",value:function(t){var i,e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={hasFill:o.hasFill||!1,hasBorder:o.hasBorder||!1,borderWidth:o.borderWidth||2,borderColor:o.borderColor||"rgb(150, 206, 180)",fillColor:o.fillColor||"rgba(150, 206, 180, 0.78)"},h={hasFill:n.hasFill||!1,fillColor:n.fillColor||"rgba(255, 111, 105, 0.78)",r:n.r||2},a={};(r.hasFill||r.hasBorder)&&(a=new Path2D((e=function(t,i,e){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return i.get(t)}(i=this,s),function(t,i){return i.get?i.get.call(t):i.value}(i,e))),r.hasFill&&(t.ctx.fillStyle=r.fillColor,t.ctx.fill(a)),r.hasBorder&&(t.ctx.lineWidth=r.borderWidth,t.ctx.strokeStyle=r.borderColor,t.ctx.stroke(a))),h.hasFill&&(a=new Path2D(MG.Utils.circleToPath(this.collision.pos,h.r)),t.ctx.fillStyle=h.fillColor,t.ctx.fill(a))}}],a&&i(n.prototype,a),Object.defineProperty(n,"prototype",{writable:!1}),t}();function r(){return"circle"===this.type?MG.Utils.circleToPath(this.collision.pos,this.collision.r):"polygon"===this.type?MG.Utils.polygonToPath(this.collision.pos,this.collision.calcPoints):"box"===this.type?MG.Utils.boxToPath(this.collision.pos,this.collision.w,this.collision.h):void 0}function h(){if("circle"===this.type&&(this.sprite.dxS+=-this.sprite.dW/2,this.sprite.dyS+=-this.sprite.dH/2),"polygon"===this.type){var t=this.collision.getCentroid(),i=this.collision.getAABBAsBox();switch(this.origin){default:case"tl":this.collision.setOffset(new SAT.V(0,0)),this.sprite.dxS+=-this.sprite.dW/2+i.w/2,this.sprite.dyS+=-this.sprite.dH/2+i.h/2;break;case"tc":this.collision.setOffset(new SAT.V(-t.x,0)),this.sprite.dxS+=-this.sprite.dW/2,this.sprite.dyS+=-this.sprite.dH/2+i.h/2;break;case"tr":this.collision.setOffset(new SAT.V(-i.w,0)),this.sprite.dxS+=-this.sprite.dW/2-i.w/2,this.sprite.dyS+=-this.sprite.dH/2+i.h/2;break;case"ml":this.collision.setOffset(new SAT.V(0,-t.y)),this.sprite.dxS+=-this.sprite.dW/2+i.w/2,this.sprite.dyS+=-this.sprite.dH/2;break;case"mc":this.collision.setOffset(new SAT.V(-t.x,-t.y)),this.sprite.dxS+=-this.sprite.dW/2,this.sprite.dyS+=-this.sprite.dH/2;break;case"mr":this.collision.setOffset(new SAT.V(-i.w,-t.y)),this.sprite.dxS+=-this.sprite.dW/2-i.w/2,this.sprite.dyS+=-this.sprite.dH/2;break;case"bl":this.collision.setOffset(new SAT.V(0,-i.h)),this.sprite.dxS+=-this.sprite.dW/2+i.w/2,this.sprite.dyS+=-this.sprite.dH/2-i.h/2;break;case"bc":this.collision.setOffset(new SAT.V(-t.x,-i.h)),this.sprite.dxS+=-this.sprite.dW/2,this.sprite.dyS+=-this.sprite.dH/2-i.h/2;break;case"br":this.collision.setOffset(new SAT.V(-i.w,-i.h)),this.sprite.dxS+=-this.sprite.dW/2-i.w/2,this.sprite.dyS+=-this.sprite.dH/2-i.h/2}}"box"===this.type&&(this.sprite.dxS+=-this.sprite.dW/2+this.collision.w/2,this.sprite.dyS+=-this.sprite.dH/2+this.collision.h/2)}t.exports=n},563:t=>{function i(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function e(t,i){s(t,i),i.add(t)}function s(t,i){if(i.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(t,i,e){if(!i.has(t))throw new TypeError("attempted to "+e+" private field on non-instance");return i.get(t)}function n(t,i,e){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return e}var r=new WeakMap,h=new WeakSet,a=new WeakSet,l=new WeakSet,c=new WeakSet,p=function(){function t(){var i,o,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),e(this,c),e(this,l),e(this,a),e(this,h),o={writable:!0,value:void 0},s(this,i=r),i.set(this,o),this.x=0,this.y=0,this.vx=Math.cos(p)*n,this.vy=Math.sin(p)*n;var d=u.gravity,f=void 0===d?0:d,v=u.mass,y=void 0===v?1:v,w=u.bounce,g=void 0===w?-1:w,x=u.friction,b=void 0===x?1:x;this.gravity=f,this.mass=y,this.bounce=g,this.friction=b,this.springs=[],this.gravitations=[]}var p,d;return p=t,(d=[{key:"speed",get:function(){return Math.sqrt(Math.pow(this.vx,2)+Math.pow(this.vy,2))},set:function(t){this.vx=Math.cos(this.direction)*t,this.vy=Math.sin(this.direction)*t}},{key:"direction",get:function(){return Math.atan2(this.vy,this.vx)},set:function(t){this.vx=Math.cos(t)*this.speed,this.vy=Math.sin(t)*this.speed}},{key:"update",value:function(t,i){return this.x=MG.Utils.p2u(t.x,i),this.y=MG.Utils.p2u(t.y,i),n(this,h,u).call(this),n(this,l,f).call(this),this.vx*=this.friction,this.vy*=this.friction,this.vy+=this.gravity,function(t,i,e){(function(t,i,e){if(i.set)i.set.call(t,e);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=e}})(t,o(t,i,"set"),e)}(this,r,new SAT.V(MG.Utils.u2p(this.x+this.vx,i),MG.Utils.u2p(this.y+this.vy,i))),function(t,i){return i.get?i.get.call(t):i.value}(this,o(this,r,"get"))}},{key:"accelerate",value:function(t,i){this.vx+=t,this.vy+=i}},{key:"angleTo",value:function(t){return Math.atan2(t.y-this.y,t.x-this.x)}},{key:"distanceTo",value:function(t){var i=t.x-this.x,e=t.y-this.y;return Math.sqrt(Math.pow(i,2)+Math.pow(e,2))}},{key:"addSpring",value:function(t,i,e){this.removeSpring(t),this.springs.push({p:t,k:i,length:e||0})}},{key:"removeSpring",value:function(t){for(var i=this.springs.length-1;i>=0;i--)if(t===this.springs[i].p)return void this.springs.splice(i,1)}},{key:"addGravitation",value:function(t){this.removeGravitation(t),this.gravitations.push(t)}},{key:"removeGravitation",value:function(t){for(var i=this.gravitations.length-1;i>=0;i--)if(t===this.gravitations[i])return void this.gravitations.splice(i,1)}}])&&i(p.prototype,d),Object.defineProperty(p,"prototype",{writable:!1}),t}();function u(){for(var t=this.springs.length-1;t>=0;t--){var i=this.springs[t];n(this,a,d).call(this,i.p,i.k,i.length)}}function d(t,i,e){var s=t.x-this.x,o=t.y-this.y,n=Math.sqrt(Math.pow(s,2)+Math.pow(o,2)),r=(n-e||0)*i;this.vx+=s/n*r,this.vy+=o/n*r}function f(){for(var t=this.gravitations.length-1;t>=0;t--)n(this,c,v).call(this,this.gravitations[t])}function v(t){var i=t.x-this.x,e=t.y-this.y,s=Math.pow(i,2)+Math.pow(e,2),o=Math.sqrt(s),n=t.mass/s,r=i/o*n,h=e/o*n;this.vx+=r,this.vy+=h}t.exports=p},618:t=>{function i(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function e(t,i,e){if(!i.has(t))throw new TypeError("attempted to "+e+" private field on non-instance");return i.get(t)}var s=new WeakMap,o=function(){function t(){var i,e,o,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),o={writable:!0,value:0},function(t,i){if(i.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(i=this,e=s),e.set(i,o);var r=n.img,h=void 0===r?new Image:r,a=n.src,l=void 0===a?"":a,c=n.ix,p=void 0===c?0:c,u=n.iy,d=void 0===u?0:u,f=n.sW,v=void 0===f?0:f,y=n.sH,w=void 0===y?0:y,g=n.dxS,x=void 0===g?0:g,b=n.dyS,M=void 0===b?0:b,m=n.dW,S=void 0===m?0:m,k=n.dH,G=void 0===k?0:k,T=n.frames,U=void 0===T?0:T,W=n.speed,H=void 0===W?30:W;this.ix=p,this.iy=d,this.sW=v,this.sH=w,this.dxS=x,this.dyS=M,this.dW=S,this.dH=G,this.frames=U,this.speed=H,this.ixLast=p,this.img=h,this.img.src=h.src||l}var o,n;return o=t,n=[{key:"render",value:function(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.img.complete&&0!==this.img.naturalHeight&&(this.speed>0&&Date.now()-function(t,i){return i.get?i.get.call(t):i.value}(this,e(this,s,"get"))>=1e3/this.speed&&(this.ixLast+=1,this.ixLast>=this.ix+this.frames&&(this.ixLast=this.ix),function(t,i,s){(function(t,i,e){if(i.set)i.set.call(t,e);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=e}})(t,e(t,i,"set"),s)}(this,s,Date.now())),i.ctx.save(),i.ctx.translate(t.pos.x,t.pos.y),i.ctx.rotate(t.angle||o),i.ctx.translate(-t.pos.x,-t.pos.y),i.ctx.drawImage(this.img,this.ixLast*this.sW,this.iy*this.sH,this.sW,this.sH,t.pos.x+this.dxS,t.pos.y+this.dyS,this.dW,this.dH),i.ctx.restore())}}],n&&i(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),t}();t.exports=o},281:t=>{function i(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var e=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t);var e=i.img,s=void 0===e?new Image:e,o=i.src,n=void 0===o?"":o,r=i.sR,h=void 0===r?0:r,a=i.sC,l=void 0===a?0:a,c=i.sW,p=void 0===c?0:c,u=i.sH,d=void 0===u?0:u,f=i.pos,v=void 0===f?new SAT.V:f,y=i.dW,w=void 0===y?0:y,g=i.dH,x=void 0===g?0:g,b=i.rows,M=void 0===b?0:b,m=i.cols,S=void 0===m?0:m,k=i.tilemap,G=void 0===k?[]:k;this.sR=h,this.sC=l,this.sW=p,this.sH=d,this.pos=v,this.dW=w,this.dH=x,this.rows=M,this.cols=S,this.tilemap=G,this.img=s,this.img.src=s.src||n}var e,s;return e=t,(s=[{key:"u2p",value:function(t){this.pos=new SAT.V(MG.Utils.u2p(this.pos.x,t),MG.Utils.u2p(this.pos.y,t)),this.dW=MG.Utils.u2p(this.dW,t),this.dH=MG.Utils.u2p(this.dH,t)}},{key:"p2u",value:function(t){this.pos=new SAT.V(MG.Utils.p2u(this.pos.x,t),MG.Utils.p2u(this.pos.y,t)),this.dW=MG.Utils.p2u(this.dW,t),this.dH=MG.Utils.p2u(this.dH,t)}},{key:"render",value:function(t){if(this.img.complete&&0!==this.img.naturalHeight)for(var i=0,e=0;e<this.rows;e++)for(var s=0;s<this.cols;s++)t.ctx.drawImage(this.img,this.tilemap[i].x*this.sW,this.tilemap[i].y*this.sH,this.sW,this.sH,this.pos.x+s*this.dW,this.pos.y+e*this.dH,this.dW,this.dH),i++}}])&&i(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=e},339:t=>{function i(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var e=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,s;return e=t,s=[{key:"norm",value:function(t,i,e){return(t-i)/(e-i)}},{key:"lerp",value:function(t,i,e){return(e-i)*t+i}},{key:"clamp",value:function(t,i,e){return Math.min(Math.max(t,i),e)}},{key:"randomRange",value:function(t,i){return t+Math.random()*(i-t)}},{key:"randomInt",value:function(t,i){return Math.floor(t+Math.random()*(i-t))}},{key:"weightedRandom",value:function(t){for(var i=0,e=0;e<t.length;e++)i+=t[e].chance;for(var s=Math.random()*i,o=0;o<t.length;o++){var n=t[o];if(s<n.chance)return n.value;s-=n.chance}}},{key:"shuffleArray",value:function(t){for(var i=t.length-1;i>0;i--){var e=Math.floor(Math.random()*i),s=t[i];t[i]=t[e],t[e]=s}return t}},{key:"map",value:function(t,i,e,s,o){return this.lerp(this.norm(t,i,e),s,o)}},{key:"degToRad",value:function(t){return t*Math.PI/180}},{key:"radToDeg",value:function(t){return t*(180/Math.PI)}},{key:"roundToPlaces",value:function(t,i){var e=Math.pow(10,i);return Math.round(t*e)/e}},{key:"u2p",value:function(t,i){switch(i.units){default:case"vmin":return this.map(t,0,100,0,Math.min(i.w,i.h));case"vmax":return this.map(t,0,100,0,Math.max(i.w,i.h))}}},{key:"p2u",value:function(t,i){switch(i.units){default:case"vmin":return this.map(t,0,Math.min(i.w,i.h),0,100);case"vmax":return this.map(t,0,Math.max(i.w,i.h),0,100)}}},{key:"circleToPath",value:function(t,i){return"M "+t.x+" "+t.y+" m -"+i+", 0 a "+i+","+i+" 0 1,0 "+2*i+",0 a "+i+","+i+" 0 1,0 -"+2*i+",0"}},{key:"polygonToPath",value:function(t,i){var e="M"+t.x+" "+t.y;e+="M"+(t.x+i[0].x)+" "+(t.y+i[0].y);for(var s=1;s<i.length;s++){var o=i[s];e+="L"+(t.x+o.x)+" "+(t.y+o.y)}return e+"Z"}},{key:"boxToPath",value:function(t,i,e){return"M"+t.x+" "+t.y+" h "+i+" v "+e+" h -"+i+" Z"}},{key:"ease",value:function(t,i,e){var s=i-t;t+=s*e,Math.abs(s)<.1&&(t=i)}},{key:"easePos",value:function(t,i,e){var s=i.x-t.x,o=i.y-t.y;t.x+=s*e,t.y+=o*e,Math.abs(s)<.1&&Math.abs(o)<.1&&(t.x=i.x,t.y=i.y)}}],null&&i(e.prototype,null),s&&i(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=e}},i={};function e(s){var o=i[s];if(void 0!==o)return o.exports;var n=i[s]={exports:{}};return t[s](n,n.exports,e),n.exports}e.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},e.d=(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var s={};return(()=>{"use strict";e.r(s),e.d(s,{Background:()=>S(),Camera:()=>x(),Entity:()=>w(),Particle:()=>d(),Sprite:()=>v(),Surface:()=>p,Tilemap:()=>M(),Utils:()=>i()});var t=e(339),i=e.n(t);function o(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function n(t,i){if(i.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r(t,i){return function(t,i){return i.get?i.get.call(t):i.value}(t,h(t,i,"get"))}function h(t,i,e){if(!i.has(t))throw new TypeError("attempted to "+e+" private field on non-instance");return i.get(t)}var a=new WeakMap,l=new WeakSet;function c(){var t,i,e;t=this,i=a,e=document.querySelector(this.selector),function(t,i,e){if(i.set)i.set.call(t,e);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=e}}(t,h(t,i,"set"),e),this.resize()}const p=function(){function t(i,e,s){var o,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vmin";!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),n(this,o=l),o.add(this),function(t,i,e){n(t,i),i.set(t,{writable:!0,value:void 0})}(this,a),this.selector=i,this.viewWport=e,this.viewHport=s,this.units=r,function(t,i,e){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return e}(this,l,c).call(this)}var i,e;return i=t,(e=[{key:"el",get:function(){return r(this,a)}},{key:"ctx",get:function(){return this.el.getContext("2d")}},{key:"w",get:function(){return this.el.width}},{key:"h",get:function(){return this.el.height}},{key:"resize",value:function(){var t=window.innerWidth,i=window.innerHeight,e=this.viewHport/this.viewWport*100,s=i/t*100<e;r(this,a).width=MG.Utils.clamp(s?100*i/e:t,300,8192),r(this,a).height=MG.Utils.clamp(s?i:t*e/100,300,8192)}},{key:"cls",value:function(){this.ctx.clearRect(0,0,this.w,this.h)}},{key:"pos",value:function(t){switch(t){default:case"tl":return new SAT.V;case"tc":case"tr":return new SAT.V(MG.Utils.p2u(this.w/2,this),0);case"ml":return new SAT.V(0,MG.Utils.p2u(this.h/2,this));case"mc":return new SAT.V(MG.Utils.p2u(this.w/2,this),MG.Utils.p2u(this.h/2,this));case"mr":return new SAT.V(MG.Utils.p2u(this.w,this),MG.Utils.p2u(this.h/2,this));case"bl":return new SAT.V(0,MG.Utils.p2u(this.h,this));case"bc":return new SAT.V(MG.Utils.p2u(this.w/2,this),MG.Utils.p2u(this.h,this));case"br":return new SAT.V(MG.Utils.p2u(this.w,this),MG.Utils.p2u(this.h,this))}}}])&&o(i.prototype,e),Object.defineProperty(i,"prototype",{writable:!1}),t}();var u=e(563),d=e.n(u),f=e(618),v=e.n(f),y=e(211),w=e.n(y),g=e(422),x=e.n(g),b=e(281),M=e.n(b),m=e(775),S=e.n(m)})(),s})()));