!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.MG=i():t.MG=i()}(self,(()=>(()=>{var t={775:t=>{function i(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function e(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var s=e.img,n=void 0===s?new Image:s,o=e.src,r=void 0===o?"":o,h=e.sW,a=void 0===h?0:h,l=e.sH,c=void 0===l?0:l,u=e.pos,p=void 0===u?new SAT.V:u,d=e.dW,f=void 0===d?0:d,v=e.dH,y=void 0===v?0:v;this.sW=a,this.sH=c,this.pos=p,this.dW=f,this.dH=y,this.img=n,this.img.src=n.src||r}var s,n;return s=t,(n=[{key:"pinTo",value:function(t,i){MG.Utils.easePos(this.pos,t,i)}},{key:"u2p",value:function(t){this.pos=new SAT.V(MG.Utils.u2p(this.pos.x,t),MG.Utils.u2p(this.pos.y,t)),this.dW=MG.Utils.u2p(this.dW,t),this.dH=MG.Utils.u2p(this.dH,t)}},{key:"p2u",value:function(t){this.pos=new SAT.V(MG.Utils.p2u(this.pos.x,t),MG.Utils.p2u(this.pos.y,t)),this.dW=MG.Utils.p2u(this.dW,t),this.dH=MG.Utils.p2u(this.dH,t)}},{key:"render",value:function(t){this.img.complete&&0!==this.img.naturalHeight&&t.ctx.drawImage(this.img,0,0,this.sW,this.sH,this.pos.x-this.dW/2,this.pos.y-this.dH/2,this.dW,this.dH)}}])&&e(s.prototype,n),Object.defineProperty(s,"prototype",{writable:!1}),t}();t.exports=s},422:t=>{function i(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var e=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos=i}var e,s;return e=t,s=[{key:"open",value:function(t){t.ctx.translate(t.w/2-this.pos.x,t.h/2-this.pos.y)}},{key:"close",value:function(t){t.ctx.setTransform(1,0,0,1,0,0)}},{key:"pinTo",value:function(t,i){MG.Utils.easePos(this.pos,t,i)}},{key:"u2p",value:function(t){this.pos=new SAT.V(MG.Utils.u2p(this.pos.x,t),MG.Utils.u2p(this.pos.y,t))}},{key:"p2u",value:function(t){this.pos=new SAT.V(MG.Utils.p2u(this.pos.x,t),MG.Utils.p2u(this.pos.y,t))}},{key:"render",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e={hasBorder:i.hasBorder||!1,borderWidth:i.borderWidth||2,borderColor:i.borderColor||"rgb(255, 204, 92, 0.78)",r:i.r||10};e.hasBorder&&(p=new Path2D(MG.Utils.circleToPath(this.pos,e.r)),t.ctx.lineWidth=e.borderWidth,t.ctx.strokeStyle=e.borderColor,t.ctx.stroke(p))}}],s&&i(e.prototype,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=e},211:t=>{function i(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function n(t,i){r(t,i),i.add(t)}function o(t,i,e){r(t,i),i.set(t,e)}function r(t,i){if(i.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function h(t,i){var e=function(t,i,e){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return i.get(t)}(t,i);return function(t,i){return i.get?i.get.call(t):i.value}(t,e)}function a(t,i,e){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return e}var l=new WeakMap,c=new WeakSet,u=function(){function t(e,s,r,h){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};i(this,t),n(this,c),o(this,l,{get:p,set:void 0}),this.origin=e,this.collision=s,this.particle=r,this.sprite=h,this.vars=u,a(this,c,d).call(this)}var r,u;return r=t,u=[{key:"type",get:function(){return void 0!==this.collision.r?"circle":void 0!==this.collision.calcPoints?"polygon":void 0!==this.collision.w?"box":void 0}},{key:"u2p",value:function(t){if(this.collision.pos=new SAT.V(MG.Utils.u2p(this.collision.pos.x,t),MG.Utils.u2p(this.collision.pos.y,t)),this.sprite.dxS=MG.Utils.u2p(this.sprite.dxS,t),this.sprite.dyS=MG.Utils.u2p(this.sprite.dyS,t),this.sprite.dW=MG.Utils.u2p(this.sprite.dW,t),this.sprite.dH=MG.Utils.u2p(this.sprite.dH,t),"circle"===this.type&&(this.collision.r=MG.Utils.u2p(this.collision.r,t)),"polygon"===this.type){var i=[];this.collision.setOffset(new SAT.V(MG.Utils.u2p(this.collision.offset.x,t),MG.Utils.u2p(this.collision.offset.y,t)));for(var e=0;e<this.collision.points.length;e++)i.push(new SAT.V(MG.Utils.u2p(this.collision.points[e].x,t),MG.Utils.u2p(this.collision.points[e].y,t)));this.collision.setPoints(i)}"box"===this.type&&(this.collision.w=MG.Utils.u2p(this.collision.w,t),this.collision.h=MG.Utils.u2p(this.collision.h,t))}},{key:"p2u",value:function(t){if(this.collision.pos=new SAT.V(MG.Utils.p2u(this.collision.pos.x,t),MG.Utils.p2u(this.collision.pos.y,t)),this.sprite.dxS=MG.Utils.p2u(this.sprite.dxS,t),this.sprite.dyS=MG.Utils.p2u(this.sprite.dyS,t),this.sprite.dW=MG.Utils.p2u(this.sprite.dW,t),this.sprite.dH=MG.Utils.p2u(this.sprite.dH,t),"circle"===this.type&&(this.collision.r=MG.Utils.p2u(this.collision.r,t)),"polygon"===this.type){var i=[];this.collision.setOffset(new SAT.V(MG.Utils.p2u(this.collision.offset.x,t),MG.Utils.p2u(this.collision.offset.y,t)));for(var e=0;e<this.collision.points.length;e++)i.push(new SAT.V(MG.Utils.p2u(this.collision.points[e].x,t),MG.Utils.p2u(this.collision.points[e].y,t)));this.collision.setPoints(i)}"box"===this.type&&(this.collision.w=MG.Utils.p2u(this.collision.w,t),this.collision.h=MG.Utils.p2u(this.collision.h,t))}},{key:"syncPos",value:function(t){this.collision.pos=this.particle.update(this.collision.pos,t)}},{key:"syncDir",value:function(){e.collision.setAngle(this.particle.direction)}},{key:"render",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s={hasFill:i.hasFill||!1,hasBorder:i.hasBorder||!1,borderWidth:i.borderWidth||2,borderColor:i.borderColor||"rgb(150, 206, 180)",fillColor:i.fillColor||"rgba(150, 206, 180, 0.78)"},n={hasFill:e.hasFill||!1,fillColor:e.fillColor||"rgba(255, 111, 105, 0.78)",r:e.r||2},o={};(s.hasFill||s.hasBorder)&&(o=new Path2D(h(this,l)),s.hasFill&&(t.ctx.fillStyle=s.fillColor,t.ctx.fill(o)),s.hasBorder&&(t.ctx.lineWidth=s.borderWidth,t.ctx.strokeStyle=s.borderColor,t.ctx.stroke(o))),n.hasFill&&(o=new Path2D(MG.Utils.circleToPath(this.collision.pos,n.r)),t.ctx.fillStyle=n.fillColor,t.ctx.fill(o))}}],u&&s(r.prototype,u),Object.defineProperty(r,"prototype",{writable:!1}),t}();function p(){return"circle"===this.type?MG.Utils.circleToPath(this.collision.pos,this.collision.r):"polygon"===this.type?MG.Utils.polygonToPath(this.collision.pos,this.collision.calcPoints):"box"===this.type?MG.Utils.boxToPath(this.collision.pos,this.collision.w,this.collision.h):void 0}function d(){if("circle"===this.type&&(this.sprite.dxS+=-this.sprite.dW/2,this.sprite.dyS+=-this.sprite.dH/2),"polygon"===this.type){var t=this.collision.getCentroid(),i=this.collision.getAABBAsBox();switch(this.origin){default:case"tl":this.collision.setOffset(new SAT.V(0,0)),this.sprite.dxS+=-this.sprite.dW/2+i.w/2,this.sprite.dyS+=-this.sprite.dH/2+i.h/2;break;case"tc":this.collision.setOffset(new SAT.V(-t.x,0)),this.sprite.dxS+=-this.sprite.dW/2,this.sprite.dyS+=-this.sprite.dH/2+i.h/2;break;case"tr":this.collision.setOffset(new SAT.V(-i.w,0)),this.sprite.dxS+=-this.sprite.dW/2-i.w/2,this.sprite.dyS+=-this.sprite.dH/2+i.h/2;break;case"ml":this.collision.setOffset(new SAT.V(0,-t.y)),this.sprite.dxS+=-this.sprite.dW/2+i.w/2,this.sprite.dyS+=-this.sprite.dH/2;break;case"mc":this.collision.setOffset(new SAT.V(-t.x,-t.y)),this.sprite.dxS+=-this.sprite.dW/2,this.sprite.dyS+=-this.sprite.dH/2;break;case"mr":this.collision.setOffset(new SAT.V(-i.w,-t.y)),this.sprite.dxS+=-this.sprite.dW/2-i.w/2,this.sprite.dyS+=-this.sprite.dH/2;break;case"bl":this.collision.setOffset(new SAT.V(0,-i.h)),this.sprite.dxS+=-this.sprite.dW/2+i.w/2,this.sprite.dyS+=-this.sprite.dH/2-i.h/2;break;case"bc":this.collision.setOffset(new SAT.V(-t.x,-i.h)),this.sprite.dxS+=-this.sprite.dW/2,this.sprite.dyS+=-this.sprite.dH/2-i.h/2;break;case"br":this.collision.setOffset(new SAT.V(-i.w,-i.h)),this.sprite.dxS+=-this.sprite.dW/2-i.w/2,this.sprite.dyS+=-this.sprite.dH/2-i.h/2}}"box"===this.type&&(this.sprite.dxS+=-this.sprite.dW/2+this.collision.w/2,this.sprite.dyS+=-this.sprite.dH/2+this.collision.h/2)}t.exports=u},563:t=>{function i(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function e(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function s(t,i){o(t,i),i.add(t)}function n(t,i,e){o(t,i),i.set(t,e)}function o(t,i){if(i.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r(t,i,e){if(!i.has(t))throw new TypeError("attempted to "+e+" private field on non-instance");return i.get(t)}function h(t,i,e){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return e}var a=new WeakMap,l=new WeakSet,c=new WeakSet,u=new WeakSet,p=new WeakSet,d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i(this,t),s(this,p),s(this,u),s(this,c),s(this,l),n(this,a,{writable:!0,value:void 0}),this.x=0,this.y=0,this.vx=Math.cos(o)*e,this.vy=Math.sin(o)*e;var h=r.gravity,d=void 0===h?0:h,f=r.mass,v=void 0===f?1:f,y=r.bounce,w=void 0===y?-1:y,g=r.friction,x=void 0===g?1:g;this.gravity=d,this.mass=v,this.bounce=w,this.friction=x,this.springs=[],this.gravitations=[]}var o,d;return o=t,(d=[{key:"speed",get:function(){return Math.sqrt(Math.pow(this.vx,2)+Math.pow(this.vy,2))},set:function(t){this.vx=Math.cos(this.direction)*t,this.vy=Math.sin(this.direction)*t}},{key:"direction",get:function(){return Math.atan2(this.vy,this.vx)},set:function(t){this.vx=Math.cos(t)*this.speed,this.vy=Math.sin(t)*this.speed}},{key:"update",value:function(t,i){return this.x=MG.Utils.p2u(t.x,i),this.y=MG.Utils.p2u(t.y,i),h(this,l,f).call(this),h(this,u,y).call(this),this.vx*=this.friction,this.vy*=this.friction,this.vy+=this.gravity,function(t,i,e){(function(t,i,e){if(i.set)i.set.call(t,e);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=e}})(t,r(t,i,"set"),e)}(this,a,new SAT.V(MG.Utils.u2p(this.x+this.vx,i),MG.Utils.u2p(this.y+this.vy,i))),function(t,i){return i.get?i.get.call(t):i.value}(this,r(this,a,"get"))}},{key:"accelerate",value:function(t,i){this.vx+=t,this.vy+=i}},{key:"angleTo",value:function(t){return Math.atan2(t.y-this.y,t.x-this.x)}},{key:"distanceTo",value:function(t){var i=t.x-this.x,e=t.y-this.y;return Math.sqrt(Math.pow(i,2)+Math.pow(e,2))}},{key:"addSpring",value:function(t,i,e){this.removeSpring(t),this.springs.push({p:t,k:i,length:e||0})}},{key:"removeSpring",value:function(t){for(var i=this.springs.length-1;i>=0;i--)if(t===this.springs[i].p)return void this.springs.splice(i,1)}},{key:"addGravitation",value:function(t){this.removeGravitation(t),this.gravitations.push(t)}},{key:"removeGravitation",value:function(t){for(var i=this.gravitations.length-1;i>=0;i--)if(t===this.gravitations[i])return void this.gravitations.splice(i,1)}}])&&e(o.prototype,d),Object.defineProperty(o,"prototype",{writable:!1}),t}();function f(){for(var t=this.springs.length-1;t>=0;t--){var i=this.springs[t];h(this,c,v).call(this,i.p,i.k,i.length)}}function v(t,i,e){var s=t.x-this.x,n=t.y-this.y,o=Math.sqrt(Math.pow(s,2)+Math.pow(n,2)),r=(o-e||0)*i;this.vx+=s/o*r,this.vy+=n/o*r}function y(){for(var t=this.gravitations.length-1;t>=0;t--)h(this,p,w).call(this,this.gravitations[t])}function w(t){var i=t.x-this.x,e=t.y-this.y,s=Math.pow(i,2)+Math.pow(e,2),n=Math.sqrt(s),o=t.mass/s,r=i/n*o,h=e/n*o;this.vx+=r,this.vy+=h}t.exports=d},618:t=>{function i(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function e(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function s(t,i,e){!function(t,i){if(i.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,i),i.set(t,e)}function n(t,i,e){return function(t,i,e){if(i.set)i.set.call(t,e);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=e}}(t,r(t,i,"set"),e),e}function o(t,i){return function(t,i){return i.get?i.get.call(t):i.value}(t,r(t,i,"get"))}function r(t,i,e){if(!i.has(t))throw new TypeError("attempted to "+e+" private field on non-instance");return i.get(t)}var h=new WeakMap,a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),s(this,h,{writable:!0,value:0});var n=e.img,o=void 0===n?new Image:n,r=e.src,a=void 0===r?"":r,l=e.ix,c=void 0===l?0:l,u=e.iy,p=void 0===u?0:u,d=e.sW,f=void 0===d?0:d,v=e.sH,y=void 0===v?0:v,w=e.dxS,g=void 0===w?0:w,x=e.dyS,M=void 0===x?0:x,b=e.dW,m=void 0===b?0:b,k=e.dH,S=void 0===k?0:k,G=e.frames,T=void 0===G?0:G,U=e.speed,W=void 0===U?30:U;this.ix=c,this.iy=p,this.sW=f,this.sH=y,this.dxS=g,this.dyS=M,this.dW=m,this.dH=S,this.frames=T,this.speed=W,this.ixLast=c,this.img=o,this.img.src=o.src||a}var r,a;return r=t,a=[{key:"render",value:function(t,i){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.img.complete&&0!==this.img.naturalHeight&&(this.speed>0&&Date.now()-o(this,h)>=1e3/this.speed&&(this.ixLast+=1,this.ixLast>=this.ix+this.frames&&(this.ixLast=this.ix),n(this,h,Date.now())),i.ctx.save(),i.ctx.translate(t.pos.x,t.pos.y),i.ctx.rotate(t.angle||e),i.ctx.translate(-t.pos.x,-t.pos.y),i.ctx.drawImage(this.img,this.ixLast*this.sW,this.iy*this.sH,this.sW,this.sH,t.pos.x+this.dxS,i,t.pos.y+this.dyS,i,this.dW,this.dH),i.ctx.restore())}}],a&&e(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),t}();t.exports=a},281:t=>{function i(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function e(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var s=e.img,n=void 0===s?new Image:s,o=e.src,r=void 0===o?"":o,h=e.sR,a=void 0===h?0:h,l=e.sC,c=void 0===l?0:l,u=e.sW,p=void 0===u?0:u,d=e.sH,f=void 0===d?0:d,v=e.dx,y=void 0===v?0:v,w=e.dy,g=void 0===w?0:w,x=e.dW,M=void 0===x?0:x,b=e.dH,m=void 0===b?0:b,k=e.rows,S=void 0===k?0:k,G=e.cols,T=void 0===G?0:G,U=e.tilemap,W=void 0===U?[]:U;this.sR=a,this.sC=c,this.sW=p,this.sH=f,this.dx=y,this.dy=g,this.dW=M,this.dH=m,this.rows=S,this.cols=T,this.tilemap=W,this.img=n,this.img.src=n.src||r}var s,n;return s=t,(n=[{key:"u2p",value:function(t){this.dx=MG.Utils.u2p(this.dx,t),this.dy=MG.Utils.u2p(this.dy,t),this.dW=MG.Utils.u2p(this.dW,t),this.dH=MG.Utils.u2p(this.dH,t)}},{key:"p2u",value:function(t){this.dx=MG.Utils.p2u(this.dx,t),this.dy=MG.Utils.p2u(this.dy,t),this.dW=MG.Utils.p2u(this.dW,t),this.dH=MG.Utils.p2u(this.dH,t)}},{key:"render",value:function(t){if(this.img.complete&&0!==this.img.naturalHeight)for(var i=0,e=0;e<this.rows;e++)for(var s=0;s<this.cols;s++)t.ctx.drawImage(this.img,this.tilemap[i]%this.sC*this.sW,Math.floor(this.tilemap[i]/this.sR)*this.sH,this.sW,this.sH,this.dx+s*this.dW,this.dy+e*this.dH,this.dW,this.dH),i++}}])&&e(s.prototype,n),Object.defineProperty(s,"prototype",{writable:!1}),t}();t.exports=s},339:t=>{function i(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var e=function(){function t(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,s;return e=t,s=[{key:"norm",value:function(t,i,e){return(t-i)/(e-i)}},{key:"lerp",value:function(t,i,e){return(e-i)*t+i}},{key:"clamp",value:function(t,i,e){return Math.min(Math.max(t,i),e)}},{key:"randomRange",value:function(t,i){return t+Math.random()*(i-t)}},{key:"randomInt",value:function(t,i){return Math.floor(t+Math.random()*(i-t))}},{key:"weightedRandom",value:function(t){for(var i=0,e=0;e<t.length;e++)i+=t[e].chance;for(var s=Math.random()*i,n=0;n<t.length;n++){var o=t[n];if(s<o.chance)return o.value;s-=o.chance}}},{key:"shuffleArray",value:function(t){for(var i=t.length-1;i>0;i--){var e=Math.floor(Math.random()*i),s=t[i];t[i]=t[e],t[e]=s}return t}},{key:"map",value:function(t,i,e,s,n){return this.lerp(this.norm(t,i,e),s,n)}},{key:"degToRad",value:function(t){return t*Math.PI/180}},{key:"radToDeg",value:function(t){return t*(180/Math.PI)}},{key:"roundToPlaces",value:function(t,i){var e=Math.pow(10,i);return Math.round(t*e)/e}},{key:"u2p",value:function(t,i){switch(i.units){default:case"vmin":return this.map(t,0,100,0,Math.min(i.w,i.h));case"vmax":return this.map(t,0,100,0,Math.max(i.w,i.h))}}},{key:"p2u",value:function(t,i){switch(i.units){default:case"vmin":return this.map(t,0,Math.min(i.w,i.h),0,100);case"vmax":return this.map(t,0,Math.max(i.w,i.h),0,100)}}},{key:"circleToPath",value:function(t,i){return"M "+t.x+" "+t.y+" m -"+i+", 0 a "+i+","+i+" 0 1,0 "+2*i+",0 a "+i+","+i+" 0 1,0 -"+2*i+",0"}},{key:"polygonToPath",value:function(t,i){var e="M"+t.x+" "+t.y;e+="M"+(t.x+i[0].x)+" "+(t.y+i[0].y);for(var s=1;s<i.length;s++){var n=i[s];e+="L"+(t.x+n.x)+" "+(t.y+n.y)}return e+"Z"}},{key:"boxToPath",value:function(t,i,e){return"M"+t.x+" "+t.y+" h "+i+" v "+e+" h -"+i+" Z"}},{key:"ease",value:function(t,i,e){var s=i-t;t+=s*e,Math.abs(s)<.1&&(t=i)}},{key:"easePos",value:function(t,i,e){var s=i.x-t.x,n=i.y-t.y;t.x+=s*e,t.y+=n*e,Math.abs(s)<.1&&Math.abs(n)<.1&&(t.x=i.x,t.y=i.y)}}],null&&i(e.prototype,null),s&&i(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();t.exports=e}},i={};function s(e){var n=i[e];if(void 0!==n)return n.exports;var o=i[e]={exports:{}};return t[e](o,o.exports,s),o.exports}s.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return s.d(i,{a:i}),i},s.d=(t,i)=>{for(var e in i)s.o(i,e)&&!s.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},s.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";s.r(n),s.d(n,{Background:()=>U(),Camera:()=>k(),Entity:()=>b(),Particle:()=>w(),Sprite:()=>x(),Surface:()=>v,Tilemap:()=>G(),Utils:()=>i()});var t=s(339),i=s.n(t);function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function o(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function r(t,i){a(t,i),i.add(t)}function h(t,i,e){a(t,i),i.set(t,e)}function a(t,i){if(i.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(t,i){return function(t,i){return i.get?i.get.call(t):i.value}(t,c(t,i,"get"))}function c(t,i,e){if(!i.has(t))throw new TypeError("attempted to "+e+" private field on non-instance");return i.get(t)}function u(t,i,e){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return e}var p=new WeakMap,d=new WeakSet;function f(){var t,i,e;t=this,i=p,e=document.querySelector(this.selector),function(t,i,e){if(i.set)i.set.call(t,e);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=e}}(t,c(t,i,"set"),e),this.resize()}const v=function(){function t(i,s,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vmin";e(this,t),r(this,d),h(this,p,{writable:!0,value:void 0}),this.selector=i,this.viewWport=s,this.viewHport=n,this.units=o,u(this,d,f).call(this)}var i,s;return i=t,(s=[{key:"el",get:function(){return l(this,p)}},{key:"ctx",get:function(){return this.el.getContext("2d")}},{key:"w",get:function(){return this.el.width},set:function(t){l(this,p).width=t}},{key:"h",get:function(){return this.el.height},set:function(t){l(this,p).height=t}},{key:"resize",value:function(){var t=window.innerWidth,i=window.innerHeight,e=this.viewHport/this.viewWport*100,s=i/t*100<e;this.w=s?100*i/e:t,this.h=s?i:t*e/100}},{key:"cls",value:function(){this.ctx.clearRect(0,0,this.w,this.h)}},{key:"pos",value:function(t){switch(t){default:case"tl":return new SAT.V;case"tc":case"tr":return new SAT.V(MG.Utils.p2u(this.w/2,this),0);case"ml":return new SAT.V(0,MG.Utils.p2u(this.h/2,this));case"mc":return new SAT.V(MG.Utils.p2u(this.w/2,this),MG.Utils.p2u(this.h/2,this));case"mr":return new SAT.V(MG.Utils.p2u(this.w,this),MG.Utils.p2u(this.h/2,this));case"bl":return new SAT.V(0,MG.Utils.p2u(this.h,this));case"bc":return new SAT.V(MG.Utils.p2u(this.w/2,this),MG.Utils.p2u(this.h,this));case"br":return new SAT.V(MG.Utils.p2u(this.w,this),MG.Utils.p2u(this.h,this))}}}])&&o(i.prototype,s),Object.defineProperty(i,"prototype",{writable:!1}),t}();var y=s(563),w=s.n(y),g=s(618),x=s.n(g),M=s(211),b=s.n(M),m=s(422),k=s.n(m),S=s(281),G=s.n(S),T=s(775),U=s.n(T)})(),n})()));